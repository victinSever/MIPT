"use strict";(self["webpackChunkmipt"]=self["webpackChunkmipt"]||[]).push([[324],{66324:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"content-box"},[e("div",{staticClass:"box-top"},[e("el-input",{ref:"textareaTool",attrs:{type:"textarea",placeholder:"输入类案/文书/词句",rows:12},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),e("div",{staticClass:"box-bottom"},[e("el-button",{attrs:{type:"primary",loading:t.isloading,round:""},domProps:{textContent:t._s(t.isloading?"正在提取中，长文本需要稍加等待···":"开始提取")},on:{click:t.handleSave}})],1)]),e("div",{staticClass:"main"},[e("div",{staticClass:"sides card"},[e("div",{staticClass:"title"},[e("span",{staticClass:"iconfont icon-typeofentity"}),e("span",{domProps:{textContent:t._s("文书实体抽取结果")}})]),e("div",{staticClass:"content sides-list"},t._l(t.entry,(function(n){return e("div",{key:n.entityId,staticClass:"side-item"},[n.entities&&0!==n.entities.length?e("div",{staticClass:"entity-item"},[e("div",{staticClass:"entity-class"},[e("span",{staticClass:"iconfont icon-deng"}),e("span",{domProps:{textContent:t._s(n.entityClass)}})]),n.entities?e("div",{staticClass:"entity-box"},t._l(n.entities,(function(n,s){return e("div",{key:s,staticClass:"entity"},[e("el-tag",{style:"color: #fff; background: "+t.getColor(),attrs:{size:"samll",round:""},domProps:{textContent:t._s(n)}})],1)})),0):t._e()]):t._e()])})),0)]),e("div",{staticClass:"main-right"},[e("div",{staticClass:"feature card"},[e("div",{staticClass:"title"},[e("span",{staticClass:"iconfont icon--in--feature"}),e("span",{domProps:{textContent:t._s("文书特征")}})]),e("div",{staticClass:"content sides-list"},t._l(t.feature,(function(n,s){return e("div",{key:s,staticClass:"feature-item"},[e("el-tag",{style:"color: "+t.getColor(),attrs:{size:"medium"},domProps:{textContent:t._s(n)}})],1)})),0)])])])])},i=[],a=n(20629),o=n(75588),r={data(){return{cateTags:[],content:"",entry:[],feature:[],isloading:!1}},computed:{isLogin(){return this.$store.state.user.token}},mounted(){console.log((0,o.TM)()),this.$refs.textareaTool.focus()},methods:{...(0,a.nv)("tool",["getEntity"]),getColor(){return(0,o.TM)()},async getData(){const t=new FormData;t.append("instrument",this.content);try{this.$nprogress.start(),this.isloading=!0;const{data:e}=await this.getEntity(t);this.isloading=!1,this.$nprogress.done(),this.entry=e.data.entry,this.feature=e.data.feature,console.log(this.entry,this.feature)}catch(e){this.$message.error(e)}},createEntityEcharts(){var t=[{name:"韦小宝",id:"1",x:200,y:200,symbolSize:60,symbol:"circle"},{name:"方怡",id:"2",x:500,y:200,symbolSize:60},{name:"双儿",id:"3",symbolSize:60},{name:"茅十八",id:"4",symbolSize:60},{name:"吴六奇",id:"5",symbolSize:60}],e=[{source:"1",target:"2",relation:{name:"老婆",id:"1"}},{source:"1",target:"3",relation:{name:"老婆",id:"1"}},{source:"1",target:"4",relation:{name:"兄弟",id:"1"}},{source:"4",target:"1",relation:{name:"兄弟",id:"1"}},{source:"3",target:"5",relation:{name:"义妹",id:"1"}}];const n=this.$refs.entityEcharts;this.myEcharts=this.$echarts.init(n);let s={series:[{type:"graph",layout:"force",nodes:t,links:e,itemStyle:{color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"#3dd67a"},{offset:.7,color:"#3dd67a"},{offset:1,color:"#95dcb2"}],global:!1}},label:{show:!0,position:"bottom",distance:5,fontSize:18,align:"center"},autoCurveness:.01,edgeLabel:{show:!0,position:"middle",fontSize:12,formatter:t=>t.data.relation.name},edgeSymbol:["circle","arrow"],force:{repulsion:100,gravity:.01,edgeLength:200}}]};this.myEcharts.setOption(s)},handleSave(t){if(!this.isloading){if(!this.content.trim())return this.$message.warning("你还没有输入内容！");this.getData(),this.cateTags=[{id:1,label:"案由",tags:[{id:11,label:"选举权纠纷案",hidden:!1}]},{id:2,label:"案件类型",tags:[{id:21,label:"民事",hidden:!1}]},{id:3,label:"案件特征",tags:[{id:31,label:"请求财产损失",hidden:!1},{id:32,label:"财产损害",hidden:!1},{id:33,label:"请求停止侵害",hidden:!1},{id:34,label:"侵犯肖像权",hidden:!1}]},{id:4,label:"争议焦点",tags:[{id:31,label:"一般人格权争议",hidden:!1}]}]}}}},l=r,d=n(1001),c=(0,d.Z)(l,s,i,!1,null,"7dddb10b",null),u=c.exports},75588:function(t,e,n){n.d(e,{TM:function(){return p},Vb:function(){return m},Fs:function(){return f}});const s="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var i={randomUUID:s};let a;const o=new Uint8Array(16);function r(){if(!a&&(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)}const l=[];for(let y=0;y<256;++y)l.push((y+256).toString(16).slice(1));function d(t,e=0){return(l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]).toLowerCase()}function c(t,e,n){if(i.randomUUID&&!e&&!t)return i.randomUUID();t=t||{};const s=t.random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=s[t];return e}return d(s)}var u=c;const f=function(){return u().replaceAll("-","")},m=function(t,e=new Date){let n=Date.parse(new Date(t)),s=Date.parse(new Date(e)),i=parseInt((s-n)/864e5);if(i>356)return i%356+"年前";if(i>30)return i%30+"月前";if(i>7)return i%7+"周前";if(i>1)return i+"天前";{let t=parseInt((s-n)/36e5);if(t>=1)return t+"小时前";{let t=parseInt((s-n)/6e4);return t>=1?t+"分钟前":"刚刚"}}},p=()=>`#${Math.floor(16777215*Math.random()).toString(16)}`}}]);
//# sourceMappingURL=324.cdb247ea.js.map