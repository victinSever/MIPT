"use strict";(self["webpackChunkmipt"]=self["webpackChunkmipt"]||[]).push([[454],{82454:function(t,a,e){e.r(a),e.d(a,{default:function(){return m}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"root"},[a("div",{staticClass:"sides"},[a("div",{staticClass:"executive table"},[a("h3",{domProps:{textContent:t._s("执行机关")}}),a("ul",{staticClass:"infinite-list"},t._l(t.cateObj.executive,(function(e,s){return a("li",{key:s,staticClass:"infinite-list-item",on:{click:function(a){return t.handleSelectTag(e,"executive")}}},[t._v(" "+t._s(e)+" ")])})),0)]),a("div",{staticClass:"timeliness table"},[a("h3",{domProps:{textContent:t._s("时效性")}}),a("ul",{staticClass:"infinite-list"},t._l(t.cateObj.timeliness,(function(e,s){return a("li",{key:s,staticClass:"infinite-list-item",on:{click:function(a){return t.handleSelectTag(e,"timeliness")}}},[t._v(" "+t._s(e)+" ")])})),0)]),a("div",{staticClass:"category table"},[a("h3",{domProps:{textContent:t._s("种类")}}),a("ul",{staticClass:"infinite-list"},t._l(t.cateObj.category,(function(e,s){return a("li",{key:s,staticClass:"infinite-list-item",on:{click:function(a){return t.handleSelectTag(e,"category")}}},[t._v(" "+t._s(e)+" ")])})),0)]),a("div",{staticClass:"legalDepartment table"},[a("h3",{domProps:{textContent:t._s("法务部")}}),a("ul",{staticClass:"infinite-list"},t._l(t.cateObj.legalDepartment,(function(e,s){return a("li",{key:s,staticClass:"infinite-list-item",on:{click:function(a){return t.handleSelectTag(e,"legalDepartment")}}},[t._v(" "+t._s(e)+" ")])})),0)])]),a("div",{staticClass:"right-box"},[a("div",{staticClass:"banner"},[a("div",{staticClass:"banner-top"},[a("div",{staticClass:"tag-title"},[a("span",{domProps:{textContent:t._s("已选条件")}})]),a("div",{staticClass:"tag-btns"},[a("el-link",{attrs:{type:"danger",underline:!1},domProps:{textContent:t._s("清空搜索条件")},on:{click:t.handleClearTag}})],1)]),a("div",{staticClass:"tag-list"},t._l(t.selectTags,(function(e){return a("div",{key:e.label,staticClass:"tag-item"},[a("span",{staticClass:"label",domProps:{textContent:t._s(e.type+"："+e.label)}}),a("span",{staticClass:"iconfont icon-quxiao",on:{click:function(a){return t.handleQvxiao(e)}}})])})),0)]),a("div",{staticClass:"main"},[a("div",{staticClass:"header"},[a("div",{staticClass:"total-dis"},[t._v(" 共搜索到 "),a("span",{staticClass:"total"},[t._v(t._s(t.total))]),t._v(" 条信息 ")]),a("div",{staticClass:"top-divider"})]),a("LawList",{attrs:{lawList:t.lawList,keyword:t.paramMap.keyword}}),a("div",{staticClass:"pagination-box"},[a("el-pagination",{staticClass:"pagination",attrs:{background:"","page-size":t.pageMap.size,"current-page":t.pageMap.page,layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-sizes":[5,8,10,15,20]},on:{"current-change":t.handleChangePageNum,"size-change":t.handleChangePageSize}})],1)],1)])])},i=[],n=(e(57658),e(20629)),l=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container"},[0!==t.lawList.length?a("div",{staticClass:"law-list"},t._l(t.lawList,(function(e){return a("div",{key:e.id,staticClass:"law-item"},[a("div",{staticClass:"category"},[a("span",{domProps:{textContent:t._s(e.category)}})]),a("div",{staticClass:"info-main"},[a("div",{staticClass:"right-main"},[a("h3",{staticClass:"title",domProps:{innerHTML:t._s(t.highlight(e.title))},on:{click:function(a){return t.handleGotoLawContent(e.id)}}}),a("div",{staticClass:"base"},[a("span",{staticClass:"excetive",domProps:{textContent:t._s(e.executive)}}),a("span",{staticClass:"outgoing",domProps:{textContent:t._s(e.outgoing)}}),a("span",{staticClass:"publishDate",domProps:{textContent:t._s(t.spliceDate(e.publishDate))}})]),a("div",{staticClass:"display"},[a("div",{staticClass:"display-item",on:{click:t.handleTip}},[a("span",{staticClass:"iconfont icon-like"}),a("span",[t._v("收藏")])]),a("div",{staticClass:"display-item",on:{click:t.handleTip}},[a("span",{staticClass:"iconfont icon-clouddownload"}),a("span",[t._v("下载")])])])])])])})),0):t._e()])},c=[],o={name:"lawListCompontent",props:{lawList:{type:Array,default:()=>[]},keyword:String},methods:{handleGotoLawContent(t){let a=this.$router.resolve({path:"/wenshu",query:{id:t}});window.open(a.href,"_blank")},handleTip(){this.$message.warning("敬请期待！")},spliceDate(t){return t.includes("T")?t.split("T")[0]:t},highlight(t){if(!this.keyword)return t;const a=t.split(this.keyword);return a.join(`<span style="color: red;">${this.keyword}</span>`)}}},r=o,p=e(1001),d=(0,p.Z)(r,l,c,!1,null,"39d1d157",null),h=d.exports,g={name:"lawPage",components:{LawList:h},data(){return{paramMap:{key:"",executive:"",timeliness:"",category:"",legalDepartment:""},searchObj:{},cateObj:{},selectTags:[],lawList:[],total:0,pageMap:{size:5,page:1}}},mounted(){this.getCateObj(),this.getLawList()},watch:{$route:{handler(){this.paramMap.key=this.$route.query.key?this.$route.query.key:"",this.selectTags=this.selectTags.filter((t=>"关键词"!==t.type)),this.selectTags.push({type:"关键词",label:this.paramMap.key,key:"keyword"})},immediate:!0}},methods:{...(0,n.nv)("law",["getlawCategory","getlawList"]),handleQvxiao(t){this.selectTags=this.selectTags.filter((a=>t.type!==a.type)),this.paramMap[t.key]="",this.getCateObj(),this.getLawList()},handleSelectTag(t,a){let e="";switch(a){case"executive":e="执行机关";break;case"timeliness":e="时效性";break;case"category":e="种类";break;case"legalDepartment":e="法务部";break}this.selectTags=this.selectTags.filter((t=>e!==t.type)),this.selectTags.push({label:t,type:e,key:a}),this.paramMap[a]=t,this.getCateObj(),this.getLawList()},handleClearTag(){this.selectTags=[],this.paramMap={keyword:"",executive:"",timeliness:"",category:"",legalDepartment:""}},handleChangePageNum(t){this.pageMap.page=t,this.getLawList()},handleChangePageSize(t){this.pageMap.size=t,this.getLawList()},async getCateObj(){try{const{data:t}=await this.getlawCategory(this.paramMap);this.cateObj=t.data}catch(t){this.$message.error(t)}},async getLawList(){try{console.log({...this.paramMap,...this.pageMap});const{data:t}=await this.getlawList({...this.paramMap,...this.pageMap});this.lawList=t.data.records,this.total=t.data.total}catch(t){this.$message.error(t)}}}},u=g,C=(0,p.Z)(u,s,i,!1,null,"53d1603b",null),m=C.exports}}]);
//# sourceMappingURL=454.323cccfc.js.map